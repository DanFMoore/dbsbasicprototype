{% extends "layout.html" %}

{% block page_title %}
  DBS Prototype
{% endblock %}

{% block content %}

<main id="content" role="main">
  {% include 'includes/phase_banner_alpha.html' %}
  <a href="javascript: window.history.go(-1)" class="link-back">Back</a>
	<div class="grid-row">
		<div class="column-two-thirds reduceMargin">
			<form action="paymentScreens" method="post" class="form">
				<h1 class="heading-medium page-heading">By continuing with your application you confirm that:</h1>

				<div class="form-group">
					<ul class="list-bullet">
						<li>the information you've given is true</li>
						<li>
							you agree to the
							<a href="/terms-and-conditions" target="_blank">
								terms and conditions
							</a>
							and
							<a href="https://www.gov.uk/government/publications/basic-dbs-check-privacy-policy" target="_blank">
								privacy policy
							</a>
						</li>
						<li>you'll pay â‚¤25 for your application</li>
					</ul>
				</div>

				<div class="validation-error form-group">
					<div class="notice">
						<i class="icon icon-important">
							<span class="visually-hidden">Warning</span>
						</i>
						<strong class="bold-small">
							You could be prosecuted if you knowingly give false information in your application
						</strong>
					</div>
				</div>

				<div class="form-group ">

					<label class="block-label selection-button-checkbox" for="check-box-1">
						<input type="checkbox" id="check-box-1" name="check-group-agree" value="terms">

						I agree to the <a href="/terms-and-conditions" target="_blank">terms and conditions</a>
					</label>

					<label class="block-label selection-button-checkbox" for="check-box-2">
						<input type="checkbox" id="check-box-2" name="check-group-agree" value="privacy">

						I have read the basic DBS check processing
						<a href="https://www.gov.uk/government/publications/basic-dbs-check-privacy-policy" target="_blank">Privacy Policy</a>
						and understand how the DBS will process my personal data
					</label>
				</div>

				<input type="hidden" name="_csrf" value="Uf2LYd9l-qlvP5xGKHiGglBcDBZL2NP8wcpc">

				<div class="form-group">
					<input type="submit" class="button" id="save-and-continue" value="Continue to payment">
				</div>
			</form>
		</div>
	</div>
</main>

<!-- scripts for page validation -->
<script src="/public/javascripts/jquery-1.11.3.js"></script>
<script src="/public/javascripts/parsley.min.js"></script>
<script src="/public/javascripts/form-utilities.js"></script>

<script type="text/javascript">
	var parsleyForm;
	var thisFormInstance = $( "form:first-of-type" ); // assuming we're validating first form on this page

	// attach parsley validation to the form
	parsleyForm = thisFormInstance.parsley({
		excluded: 'input[type=button], input[type=submit], input[type=reset]',
		focus:"none"
	});

	// before form is validated, catch the event and do custom validation if needed
	  thisFormInstance.parsley().on('form:validate', function(formInstance) {

	    var ok = true;
	    // add custom validations here - set ok to false if any of them fail validation

	    //ok = ok && checkDiagnosisFutureDate();
	    //ok = ok && validateDOB();

	    if (!ok) {
	      formInstance.validationResult = false;
	    } else {
	      formInstance.validationResult = true;
	    }
	  });

	  // what to do when form doesn't validate
	  thisFormInstance.parsley().on('form:error', function(formInstance) {
	    //console.log('form error');

	    // construct error display
	    GOVUK.formUtilities.showErrorSummary();
	  });

	  // what to do when form validates successfully
	  thisFormInstance.parsley().on('form:submit', function(formInstance) {
	    //console.log('form success');
	    GOVUK.formUtilities.hideErrorSummary();

	    // allow the form to submit
	    return true;
	  });


</script>

{% endblock %}
